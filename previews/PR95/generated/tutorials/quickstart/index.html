<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Quickstart · UnfoldBIDS.jl</title><meta name="title" content="Quickstart · UnfoldBIDS.jl"/><meta property="og:title" content="Quickstart · UnfoldBIDS.jl"/><meta property="twitter:title" content="Quickstart · UnfoldBIDS.jl"/><meta name="description" content="Documentation for UnfoldBIDS.jl."/><meta property="og:description" content="Documentation for UnfoldBIDS.jl."/><meta property="twitter:description" content="Documentation for UnfoldBIDS.jl."/><meta property="og:url" content="https://unfoldtoolbox.github.io/UnfoldBIDS.jl/generated/tutorials/quickstart/"/><meta property="twitter:url" content="https://unfoldtoolbox.github.io/UnfoldBIDS.jl/generated/tutorials/quickstart/"/><link rel="canonical" href="https://unfoldtoolbox.github.io/UnfoldBIDS.jl/generated/tutorials/quickstart/"/><script data-outdated-warner src="../../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../../assets/documenter.js"></script><script src="../../../search_index.js"></script><script src="../../../siteinfo.js"></script><script src="../../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../../"><img src="../../../assets/logo.png" alt="UnfoldBIDS.jl logo"/></a><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../../">Home</a></li><li><span class="tocitem">Tutorials</span><ul><li class="is-active"><a class="tocitem" href>Quickstart</a><ul class="internal"><li><a class="tocitem" href="#Loading-data"><span>Loading data</span></a></li><li><a class="tocitem" href="#Run-unfold-type-models"><span>Run unfold type models</span></a></li></ul></li></ul></li><li><span class="tocitem">Reference</span><ul><li><a class="tocitem" href="../../../api/">API: Toolbox Functions</a></li><li><a class="tocitem" href="../../reference/BIDS/">Brain Imaging Data Structure</a></li></ul></li><li><span class="tocitem">HowTo</span><ul><li><a class="tocitem" href="../../HowTo/ApplyPreprocessing/">Apply preprocessing functions</a></li><li><a class="tocitem" href="../../HowTo/group_average/">Calculate group average</a></li><li><a class="tocitem" href="../../HowTo/IO/">Save/ load Unfold results</a></li><li><a class="tocitem" href="../../HowTo/find_non_bids/">Find non-BIDS conform data</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Tutorials</a></li><li class="is-active"><a href>Quickstart</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Quickstart</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/unfoldtoolbox/UnfoldBIDS.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/unfoldtoolbox/UnfoldBIDS.jl/blob/main/docs/literate/tutorials/quickstart.jl" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Quickstart"><a class="docs-heading-anchor" href="#Quickstart">Quickstart</a><a id="Quickstart-1"></a><a class="docs-heading-anchor-permalink" href="#Quickstart" title="Permalink"></a></h1><pre><code class="language-julia hljs">using UnfoldBIDS
using Unfold
using LazyArtifacts
using Main: @artifact_str # this is a workaround for Artifacts used in docs; locally you would `using LazyArtifacts`</code></pre><h2 id="Loading-data"><a class="docs-heading-anchor" href="#Loading-data">Loading data</a><a id="Loading-data-1"></a><a class="docs-heading-anchor-permalink" href="#Loading-data" title="Permalink"></a></h2><p>To load use UnfoldBIDS to find the paths to all subject specific data you can uye the bidsLayout function:</p><pre><code class="language-julia hljs">sample_data_path = artifact&quot;sample_BIDS&quot;
layout_df = bids_layout(sample_data_path, derivatives=false)</code></pre><div><div style = "float: left;"><span>3×6 DataFrame</span></div><div style = "clear: both;"></div></div><div class = "data-frame" style = "overflow-x: scroll;"><table class = "data-frame" style = "margin-bottom: 6px;"><thead><tr class = "header"><th class = "rowNumber" style = "font-weight: bold; text-align: right;">Row</th><th style = "text-align: left;">subject</th><th style = "text-align: left;">ses</th><th style = "text-align: left;">task</th><th style = "text-align: left;">run</th><th style = "text-align: left;">file</th><th style = "text-align: left;">events</th></tr><tr class = "subheader headerLastRow"><th class = "rowNumber" style = "font-weight: bold; text-align: right;"></th><th title = "Any" style = "text-align: left;">Any</th><th title = "Any" style = "text-align: left;">Any</th><th title = "Any" style = "text-align: left;">Any</th><th title = "Any" style = "text-align: left;">Any</th><th title = "Any" style = "text-align: left;">Any</th><th title = "Any" style = "text-align: left;">Any</th></tr></thead><tbody><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">1</td><td style = "text-align: left;">001/eeg/sub-001</td><td style = "font-style: italic; text-align: left;">missing</td><td style = "text-align: left;">P3</td><td style = "font-style: italic; text-align: left;">missing</td><td style = "text-align: left;">/home/runner/.julia/artifacts/6fa05e5d4476b16de1d27962bf672c119fa05c87/sample_ds/sub-001/eeg/sub-001_task-P3_eeg.set</td><td style = "text-align: left;">sub-001_task-P3_events.tsv</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">2</td><td style = "text-align: left;">002/eeg/sub-002</td><td style = "font-style: italic; text-align: left;">missing</td><td style = "text-align: left;">P3</td><td style = "font-style: italic; text-align: left;">missing</td><td style = "text-align: left;">/home/runner/.julia/artifacts/6fa05e5d4476b16de1d27962bf672c119fa05c87/sample_ds/sub-002/eeg/sub-002_task-P3_eeg.set</td><td style = "text-align: left;">sub-002_task-P3_events.tsv</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">3</td><td style = "text-align: left;">003/eeg/sub-003</td><td style = "font-style: italic; text-align: left;">missing</td><td style = "text-align: left;">P3</td><td style = "font-style: italic; text-align: left;">missing</td><td style = "text-align: left;">/home/runner/.julia/artifacts/6fa05e5d4476b16de1d27962bf672c119fa05c87/sample_ds/sub-003/eeg/sub-003_task-P3_eeg.set</td><td style = "text-align: left;">sub-003_task-P3_events.tsv</td></tr></tbody></table></div><p>This will give you a DataFrame containing the paths too the eeg files of all subjects plus their accompanying event files</p><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>Since we set the derivative keyword to false here UnfoldBIDS will only look for the raw EEG files. However, by default UnfoldBIDS assumes you have preprocessed data in a derivatives folder and try to look for those.</p></div></div><p>Subsequently, you can load the data of all subjects into memory</p><pre><code class="language-julia hljs">data_df = load_bids_eeg_data(layout_df)</code></pre><div><div style = "float: left;"><span>3×6 DataFrame</span></div><div style = "clear: both;"></div></div><div class = "data-frame" style = "overflow-x: scroll;"><table class = "data-frame" style = "margin-bottom: 6px;"><thead><tr class = "header"><th class = "rowNumber" style = "font-weight: bold; text-align: right;">Row</th><th style = "text-align: left;">subject</th><th style = "text-align: left;">ses</th><th style = "text-align: left;">task</th><th style = "text-align: left;">run</th><th style = "text-align: left;">raw</th><th style = "text-align: left;">events</th></tr><tr class = "subheader headerLastRow"><th class = "rowNumber" style = "font-weight: bold; text-align: right;"></th><th title = "SubString{String}" style = "text-align: left;">SubStrin…</th><th title = "Missing" style = "text-align: left;">Missing</th><th title = "SubString{String}" style = "text-align: left;">SubStrin…</th><th title = "Missing" style = "text-align: left;">Missing</th><th title = "PythonCall.Core.Py" style = "text-align: left;">Py</th><th title = "DataFrames.DataFrame" style = "text-align: left;">DataFrame</th></tr></thead><tbody><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">1</td><td style = "text-align: left;">001/eeg/sub-001</td><td style = "font-style: italic; text-align: right;">missing</td><td style = "text-align: left;">P3</td><td style = "font-style: italic; text-align: right;">missing</td><td style = "text-align: left;">&lt;RawEEGLAB | sub-001_task-P3_eeg.fdt, 33 x 478208 (467.0 s), ~41 KiB, data not loaded&gt;</td><td style = "font-style: italic; text-align: left;">402×6 DataFrame</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">2</td><td style = "text-align: left;">002/eeg/sub-002</td><td style = "font-style: italic; text-align: right;">missing</td><td style = "text-align: left;">P3</td><td style = "font-style: italic; text-align: right;">missing</td><td style = "text-align: left;">&lt;RawEEGLAB | sub-002_task-P3_eeg.fdt, 33 x 414720 (405.0 s), ~41 KiB, data not loaded&gt;</td><td style = "font-style: italic; text-align: left;">402×6 DataFrame</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">3</td><td style = "text-align: left;">003/eeg/sub-003</td><td style = "font-style: italic; text-align: right;">missing</td><td style = "text-align: left;">P3</td><td style = "font-style: italic; text-align: right;">missing</td><td style = "text-align: left;">&lt;RawEEGLAB | sub-003_task-P3_eeg.fdt, 33 x 386048 (377.0 s), ~41 KiB, data not loaded&gt;</td><td style = "font-style: italic; text-align: left;">401×6 DataFrame</td></tr></tbody></table></div><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>At this point in time, the data is not yet actually loaded into memory, but uses MNE&#39;s lazy loading functionality.</p></div></div><p>As you can see, UnfoldBIDS trys to load events directly into the DataFrame, however if you are missing the event tsv files you will get a warning and no events are loaded. If that happens you have to manually load these events. The following function might help you with this. (The resulting dataframe still needs to be added to data_df!)</p><pre><code class="language-julia hljs">events_df = load_events(layout_df)</code></pre><h2 id="Run-unfold-type-models"><a class="docs-heading-anchor" href="#Run-unfold-type-models">Run unfold type models</a><a id="Run-unfold-type-models-1"></a><a class="docs-heading-anchor-permalink" href="#Run-unfold-type-models" title="Permalink"></a></h2><pre><code class="language-julia hljs">basisfunction = firbasis(τ=(-0.2,.8),sfreq=1024)
basisfunction_resp = firbasis(τ=(-0.4,.4),sfreq=1024)
f  = @formula 0~1
bfDict = [&quot;stimulus&quot;=&gt;(f,basisfunction), &quot;response&quot;=&gt;(f,basisfunction_resp)]
UnfoldBIDS.rename_to_latency(data_df, :sample) # Unfold expects a :latency collumn in your events; if your event latency is named differently you can use this function as remedy

resultsAll = run_unfold(data_df, bfDict; eventcolumn=&quot;trial_type&quot;);</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">33.3%┣██████████████▍                            ┫ 1/3 [00:00&lt;Inf:Inf, InfGs/it]
<span class="sgr32">Progress:  12%|█████                                    |  ETA: 0:00:01</span><span class="sgr32">Progress:  27%|███████████▏                             |  ETA: 0:00:01</span><span class="sgr32">Progress:  42%|█████████████████▍                       |  ETA: 0:00:00</span><span class="sgr32">Progress:  61%|████████████████████████▉                |  ETA: 0:00:00</span><span class="sgr32">Progress:  73%|█████████████████████████████▉           |  ETA: 0:00:00</span><span class="sgr32">Progress:  88%|████████████████████████████████████     |  ETA: 0:00:00</span><span class="sgr32">Progress: 100%|█████████████████████████████████████████| Time: 0:00:01</span>
66.7%┣████████████████████████████████                ┫ 2/3 [00:01&lt;00:01, 1s/it]
<span class="sgr32">Progress:  18%|███████▌                                 |  ETA: 0:00:01</span><span class="sgr32">Progress:  36%|██████████████▉                          |  ETA: 0:00:00</span><span class="sgr32">Progress:  55%|██████████████████████▍                  |  ETA: 0:00:00</span><span class="sgr32">Progress:  73%|█████████████████████████████▉           |  ETA: 0:00:00</span><span class="sgr32">Progress:  91%|█████████████████████████████████████▎   |  ETA: 0:00:00</span><span class="sgr32">Progress: 100%|█████████████████████████████████████████| Time: 0:00:00</span>
100.0%┣███████████████████████████████████████████████┫ 3/3 [00:02&lt;00:00, 1s/it]
<span class="sgr32">Progress:  18%|███████▌                                 |  ETA: 0:00:01</span><span class="sgr32">Progress:  33%|█████████████▋                           |  ETA: 0:00:01</span><span class="sgr32">Progress:  52%|█████████████████████▏                   |  ETA: 0:00:01</span><span class="sgr32">Progress:  70%|████████████████████████████▋            |  ETA: 0:00:00</span><span class="sgr32">Progress:  88%|████████████████████████████████████     |  ETA: 0:00:00</span><span class="sgr32">Progress: 100%|█████████████████████████████████████████| Time: 0:00:00</span></code></pre><hr/><p><em>This page was generated using <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em></p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../../">« Home</a><a class="docs-footer-nextpage" href="../../../api/">API: Toolbox Functions »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.10.1 on <span class="colophon-date" title="Thursday 3 April 2025 12:06">Thursday 3 April 2025</span>. Using Julia version 1.11.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
